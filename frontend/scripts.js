!function(){function isScrolledIntoView(elem,offset){var $elem=$(elem),$window=$(window),docViewTop=$window.scrollTop(),docViewBottom=docViewTop+$window.height(),elemTop=$elem.offset().top,elemBottom=elemTop+$elem.height()-offset;return docViewBottom>=elemBottom&&elemTop>=docViewTop}var app=angular.module("myApp",["ngDialog"]);app.controller("MainController",["$scope","ngDialog",function($scope,ngDialog){this.tab=1,this.setTab=function(tabId){this.tab=tabId},this.isSet=function(tabId){return this.tab===tabId},$scope.products=[{name:"awesome photo 1",src:"images/img.jpg",category:"graphic",description:"Eum cu tantas legere complectitur, hinc utamu"},{name:"awesome photo 3",src:"images/img2.jpg",category:"web",description:"Eum cu tantas legere complectitur, hinc utamu"},{name:"awesome photo 4",src:"images/img3.jpg",category:"web",description:"Eum cu tantas legere complectitur, hinc utamu"},{name:"awesome photo 5",src:"images/img4.jpg",category:"photo",description:"Eum cu tantas legere complectitur, hinc utamu"},{name:"awesome photo 6",src:"images/img5.jpg",category:"photo",description:"Eum cu tantas legere complectitur, hinc utamu"},{name:"awesome photo 7",src:"images/img6.jpg",category:"photo",description:"Eum cu tantas legere complectitur, hinc utamu"},{name:"awesome photo 8",src:"images/img7.jpg",category:"graphic",description:"Eum cu tantas legere complectitur, hinc utamu"},{name:"awesome photo 9",src:"images/img.jpg",category:"graphic",description:"Eum cu tantas legere complectitur, hinc utamu"},{name:"awesome photo 3",src:"images/img2.jpg",category:"web",description:"Eum cu tantas legere complectitur, hinc utamu"},{name:"awesome photo 3",src:"images/img3.jpg",category:"web",description:"Eum cu tantas legere complectitur, hinc utamu"}],$scope.timelineData=[{data:"September 2014",title:"We Reach The Top",subtitle:"Kat is new brand",description:"Lorem ipsum dolor sit amet, rebum dolore labores cu pri. Ferri iudico scripta ut eam, diceret euismod gubergren has eu, an quo tale vivendum. Ad quidam gubergren vituperatoribus sit. Ius etiam nemore consulatu ne, at meliore explicari conceptam qui. Agam ceteros forensibus."},{data:"May 2014",title:"Close To The Stars",subtitle:"Big thing are happening",description:"Lorem ipsum dolor sit amet, rebum dolore labores cu pri. Ferri iudico scripta ut eam, diceret euismod gubergren has eu, an quo tale vivendum. Ad quidam gubergren vituperatoribus sit. Ius etiam nemore consulatu."},{data:"April 2012",title:"New Office",subtitle:"We are moving",description:"Lorem ipsum dolor sit amet, rebum dolore labores cu pri. Ferri iudico scripta ut eam, diceret euismod gubergren has eu, an quo tale vivendum."},{data:"March 2012",title:"Ket Is Live",subtitle:"Just started and feel so alive",description:"Lorem ipsum dolor sit amet, rebum dolore labores cu pri. Ferri iudico scripta ut eam, diceret euismod gubergren has eu, an quo tale vivendum. Ad quidam gubergren vituperatoribus sit. Ius etiam nemore consulatu ne, at meliore explicari conceptam qui. Agam ceteros forensibus vix eu, paulo ubique ex eam."}],$scope.counters=[{value:"3054",description:"completed projects",icon:"images/icon-projects.png"},{value:"7 234 873",description:"click presed",icon:"images/icon-click.png"},{value:"4670",description:"mails sended and received",icon:"images/icon-mails.png"},{value:"939",description:"jokes tolds",icon:"images/icon-jokes.png"}],$scope.filters={},$scope.sort=function(value){$scope.filters.category=value},$scope.clickToOpen=function(item){ngDialog.open({template:' <div class="popup_wrap"><img class="popup_img" src="'+item.src+'" alt=""/><span class="popup_name">'+item.name+"</span>",className:"ngdialog-theme-default",plain:!0,width:"60%"})}}]),angular.element(document).ready(function(){function changeMenu(){$(window).width()<768?(topNav.addClass("mobilenav"),topNav.css("display","none")):(topNav.removeClass("mobilenav"),topNav.css("display","block"))}var slickSettings={centerMode:!0,centerPadding:"150px",slidesToShow:3,responsive:[{breakpoint:768,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:1}},{breakpoint:480,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:1}}]},galleryClass=$(".center"),galleryFilters=$(".portfolio__tabs");galleryClass.slick(slickSettings),galleryFilters.find("div").click(function(){galleryClass.slick("unslick"),galleryClass.slick(slickSettings),galleryFilters.find("div").removeClass("portfolio__tabs_item--active"),$(this).addClass("portfolio__tabs_item--active")});var topNav=$("#nav-tabs");changeMenu(),$(window).resize(function(){changeMenu()}),topNav.find("a").click(function(){var scroll_el=$(this).attr("href");0!==$(scroll_el).length&&$("html, body").animate({scrollTop:$(scroll_el).offset().top},500)});var nav=$("#nav"),navpos=nav.offset();$(window).bind("scroll",function(){$(window).scrollTop()>navpos.top?nav.addClass("fixed"):nav.removeClass("fixed"),$.each(["#home","#services","#portf","#contacts"],function(key,val){if(isScrolledIntoView(val,300)){var nav_id="#"+$(val).attr("id");topNav.find("a").removeClass("header__nav_item--active"),$('a[href="'+nav_id+'"]').addClass("header__nav_item--active")}}),topNav.find("a").click(function(){topNav.find("a").removeClass("header__nav_item--active"),$(this).addClass("header__nav_item--active")}),$(".timeline__item").each(function(){isScrolledIntoView(this,0)?($(this).removeClass("hidden-elem"),$(this).addClass("visible-elem")):($(this).addClass("hidden-elem"),$(this).removeClass("visible-elem"))})})})}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMuanMiXSwibmFtZXMiOlsiaXNTY3JvbGxlZEludG9WaWV3IiwiZWxlbSIsIm9mZnNldCIsIiRlbGVtIiwiJCIsIiR3aW5kb3ciLCJ3aW5kb3ciLCJkb2NWaWV3VG9wIiwic2Nyb2xsVG9wIiwiZG9jVmlld0JvdHRvbSIsImhlaWdodCIsImVsZW1Ub3AiLCJ0b3AiLCJlbGVtQm90dG9tIiwiYXBwIiwiYW5ndWxhciIsIm1vZHVsZSIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCJuZ0RpYWxvZyIsInRoaXMiLCJ0YWIiLCJzZXRUYWIiLCJ0YWJJZCIsImlzU2V0IiwicHJvZHVjdHMiLCJuYW1lIiwic3JjIiwiY2F0ZWdvcnkiLCJkZXNjcmlwdGlvbiIsInRpbWVsaW5lRGF0YSIsImRhdGEiLCJ0aXRsZSIsInN1YnRpdGxlIiwiY291bnRlcnMiLCJ2YWx1ZSIsImljb24iLCJmaWx0ZXJzIiwic29ydCIsImNsaWNrVG9PcGVuIiwiaXRlbSIsIm9wZW4iLCJ0ZW1wbGF0ZSIsImNsYXNzTmFtZSIsInBsYWluIiwid2lkdGgiLCJlbGVtZW50IiwiZG9jdW1lbnQiLCJyZWFkeSIsImNoYW5nZU1lbnUiLCJ0b3BOYXYiLCJhZGRDbGFzcyIsImNzcyIsInJlbW92ZUNsYXNzIiwic2xpY2tTZXR0aW5ncyIsImNlbnRlck1vZGUiLCJjZW50ZXJQYWRkaW5nIiwic2xpZGVzVG9TaG93IiwicmVzcG9uc2l2ZSIsImJyZWFrcG9pbnQiLCJzZXR0aW5ncyIsImFycm93cyIsImdhbGxlcnlDbGFzcyIsImdhbGxlcnlGaWx0ZXJzIiwic2xpY2siLCJmaW5kIiwiY2xpY2siLCJyZXNpemUiLCJzY3JvbGxfZWwiLCJhdHRyIiwibGVuZ3RoIiwiYW5pbWF0ZSIsIm5hdiIsIm5hdnBvcyIsImJpbmQiLCJlYWNoIiwia2V5IiwidmFsIiwibmF2X2lkIl0sIm1hcHBpbmdzIjoiQ0FBQSxXQWlESSxRQUFTQSxvQkFBbUJDLEtBQUtDLFFBQzdCLEdBQUlDLE9BQVFDLEVBQUVILE1B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QUNqQi9DLEVBQUVnQixNQUFNaUMsWUFBWSIsImZpbGUiOiJzY3JpcHRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ215QXBwJywgWyduZ0RpYWxvZyddKTtcblxuICAgIGFwcC5jb250cm9sbGVyKCdNYWluQ29udHJvbGxlcicsWyckc2NvcGUnLCAnbmdEaWFsb2cnLCBmdW5jdGlvbiAoJHNjb3BlLCBuZ0RpYWxvZykge1xuICAgICAgICB0aGlzLnRhYiA9IDE7XG4gICAgICAgIHRoaXMuc2V0VGFiID0gZnVuY3Rpb24gKHRhYklkKSB7XG4gICAgICAgICAgICB0aGlzLnRhYiA9IHRhYklkO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmlzU2V0ID0gZnVuY3Rpb24gKHRhYklkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50YWIgPT09IHRhYklkO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5wcm9kdWN0cyA9IFtcbiAgICAgICAgICAgIHtuYW1lIDogXCJhd2Vzb21lIHBob3RvIDFcIiwgc3JjIDogJ2ltYWdlcy9pbWcuanBnJywgY2F0ZWdvcnkgOiBcImdyYXBoaWNcIiwgZGVzY3JpcHRpb24gOiBcIkV1bSBjdSB0YW50YXMgbGVnZXJlIGNvbXBsZWN0aXR1ciwgaGluYyB1dGFtdVwifSxcbiAgICAgICAgICAgIHtuYW1lIDogXCJhd2Vzb21lIHBob3RvIDNcIiwgc3JjIDogJ2ltYWdlcy9pbWcyLmpwZycsIGNhdGVnb3J5IDogXCJ3ZWJcIiwgZGVzY3JpcHRpb24gOiBcIkV1bSBjdSB0YW50YXMgbGVnZXJlIGNvbXBsZWN0aXR1ciwgaGluYyB1dGFtdVwifSxcbiAgICAgICAgICAgIHtuYW1lIDogXCJhd2Vzb21lIHBob3RvIDRcIiwgc3JjIDogJ2ltYWdlcy9pbWczLmpwZycsIGNhdGVnb3J5IDogXCJ3ZWJcIiwgZGVzY3JpcHRpb24gOiBcIkV1bSBjdSB0YW50YXMgbGVnZXJlIGNvbXBsZWN0aXR1ciwgaGluYyB1dGFtdVwifSxcbiAgICAgICAgICAgIHtuYW1lIDogXCJhd2Vzb21lIHBob3RvIDVcIiwgc3JjIDogJ2ltYWdlcy9pbWc0LmpwZycsIGNhdGVnb3J5IDogXCJwaG90b1wiLCBkZXNjcmlwdGlvbiA6IFwiRXVtIGN1IHRhbnRhcyBsZWdlcmUgY29tcGxlY3RpdHVyLCBoaW5jIHV0YW11XCJ9LFxuICAgICAgICAgICAge25hbWUgOiBcImF3ZXNvbWUgcGhvdG8gNlwiLCBzcmMgOiAnaW1hZ2VzL2ltZzUuanBnJywgY2F0ZWdvcnkgOiBcInBob3RvXCIsIGRlc2NyaXB0aW9uIDogXCJFdW0gY3UgdGFudGFzIGxlZ2VyZSBjb21wbGVjdGl0dXIsIGhpbmMgdXRhbXVcIn0sXG4gICAgICAgICAgICB7bmFtZSA6IFwiYXdlc29tZSBwaG90byA3XCIsIHNyYyA6ICdpbWFnZXMvaW1nNi5qcGcnLCBjYXRlZ29yeSA6IFwicGhvdG9cIiwgZGVzY3JpcHRpb24gOiBcIkV1bSBjdSB0YW50YXMgbGVnZXJlIGNvbXBsZWN0aXR1ciwgaGluYyB1dGFtdVwifSxcbiAgICAgICAgICAgIHtuYW1lIDogXCJhd2Vzb21lIHBob3RvIDhcIiwgc3JjIDogJ2ltYWdlcy9pbWc3LmpwZycsIGNhdGVnb3J5IDogXCJncmFwaGljXCIsIGRlc2NyaXB0aW9uIDogXCJFdW0gY3UgdGFudGFzIGxlZ2VyZSBjb21wbGVjdGl0dXIsIGhpbmMgdXRhbXVcIn0sXG4gICAgICAgICAgICB7bmFtZSA6IFwiYXdlc29tZSBwaG90byA5XCIsIHNyYyA6ICdpbWFnZXMvaW1nLmpwZycsIGNhdGVnb3J5IDogXCJncmFwaGljXCIsIGRlc2NyaXB0aW9uIDogXCJFdW0gY3UgdGFudGFzIGxlZ2VyZSBjb21wbGVjdGl0dXIsIGhpbmMgdXRhbXVcIn0sXG4gICAgICAgICAgICB7bmFtZSA6IFwiYXdlc29tZSBwaG90byAzXCIsIHNyYyA6ICdpbWFnZXMvaW1nMi5qcGcnLCBjYXRlZ29yeSA6IFwid2ViXCIsIGRlc2NyaXB0aW9uIDogXCJFdW0gY3UgdGFudGFzIGxlZ2VyZSBjb21wbGVjdGl0dXIsIGhpbmMgdXRhbXVcIn0sXG4gICAgICAgICAgICB7bmFtZSA6IFwiYXdlc29tZSBwaG90byAzXCIsIHNyYyA6ICdpbWFnZXMvaW1nMy5qcGcnLCBjYXRlZ29yeSA6IFwid2ViXCIsIGRlc2NyaXB0aW9uIDogXCJFdW0gY3UgdGFudGFzIGxlZ2VyZSBjb21wbGVjdGl0dXIsIGhpbmMgdXRhbXVcIn1cbiAgICAgICAgXTtcblxuICAgICAgICAkc2NvcGUudGltZWxpbmVEYXRhID0gW1xuICAgICAgICAgICAge2RhdGEgOiBcIlNlcHRlbWJlciAyMDE0XCIsIHRpdGxlIDogXCJXZSBSZWFjaCBUaGUgVG9wXCIsIHN1YnRpdGxlIDogXCJLYXQgaXMgbmV3IGJyYW5kXCIsIGRlc2NyaXB0aW9uIDogXCJMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgcmVidW0gZG9sb3JlIGxhYm9yZXMgY3UgcHJpLiBGZXJyaSBpdWRpY28gc2NyaXB0YSB1dCBlYW0sIGRpY2VyZXQgZXVpc21vZCBndWJlcmdyZW4gaGFzIGV1LCBhbiBxdW8gdGFsZSB2aXZlbmR1bS4gQWQgcXVpZGFtIGd1YmVyZ3JlbiB2aXR1cGVyYXRvcmlidXMgc2l0LiBJdXMgZXRpYW0gbmVtb3JlIGNvbnN1bGF0dSBuZSwgYXQgbWVsaW9yZSBleHBsaWNhcmkgY29uY2VwdGFtIHF1aS4gQWdhbSBjZXRlcm9zIGZvcmVuc2lidXMuXCJ9LFxuICAgICAgICAgICAge2RhdGEgOiBcIk1heSAyMDE0XCIsIHRpdGxlIDogXCJDbG9zZSBUbyBUaGUgU3RhcnNcIiwgc3VidGl0bGUgOiBcIkJpZyB0aGluZyBhcmUgaGFwcGVuaW5nXCIsIGRlc2NyaXB0aW9uIDogXCJMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgcmVidW0gZG9sb3JlIGxhYm9yZXMgY3UgcHJpLiBGZXJyaSBpdWRpY28gc2NyaXB0YSB1dCBlYW0sIGRpY2VyZXQgZXVpc21vZCBndWJlcmdyZW4gaGFzIGV1LCBhbiBxdW8gdGFsZSB2aXZlbmR1bS4gQWQgcXVpZGFtIGd1YmVyZ3JlbiB2aXR1cGVyYXRvcmlidXMgc2l0LiBJdXMgZXRpYW0gbmVtb3JlIGNvbnN1bGF0dS5cIn0sXG4gICAgICAgICAgICB7ZGF0YSA6IFwiQXByaWwgMjAxMlwiLCB0aXRsZSA6IFwiTmV3IE9mZmljZVwiLCBzdWJ0aXRsZSA6IFwiV2UgYXJlIG1vdmluZ1wiLCBkZXNjcmlwdGlvbiA6IFwiTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIHJlYnVtIGRvbG9yZSBsYWJvcmVzIGN1IHByaS4gRmVycmkgaXVkaWNvIHNjcmlwdGEgdXQgZWFtLCBkaWNlcmV0IGV1aXNtb2QgZ3ViZXJncmVuIGhhcyBldSwgYW4gcXVvIHRhbGUgdml2ZW5kdW0uXCJ9LFxuICAgICAgICAgICAge2RhdGEgOiBcIk1hcmNoIDIwMTJcIiwgdGl0bGUgOiBcIktldCBJcyBMaXZlXCIsIHN1YnRpdGxlIDogXCJKdXN0IHN0YXJ0ZWQgYW5kIGZlZWwgc28gYWxpdmVcIiwgZGVzY3JpcHRpb24gOiBcIkxvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCByZWJ1bSBkb2xvcmUgbGFib3JlcyBjdSBwcmkuIEZlcnJpIGl1ZGljbyBzY3JpcHRhIHV0IGVhbSwgZGljZXJldCBldWlzbW9kIGd1YmVyZ3JlbiBoYXMgZXUsIGFuIHF1byB0YWxlIHZpdmVuZHVtLiBBZCBxdWlkYW0gZ3ViZXJncmVuIHZpdHVwZXJhdG9yaWJ1cyBzaXQuIEl1cyBldGlhbSBuZW1vcmUgY29uc3VsYXR1IG5lLCBhdCBtZWxpb3JlIGV4cGxpY2FyaSBjb25jZXB0YW0gcXVpLiBBZ2FtIGNldGVyb3MgZm9yZW5zaWJ1cyB2aXggZXUsIHBhdWxvIHViaXF1ZSBleCBlYW0uXCJ9XG4gICAgICAgIF07XG5cbiAgICAgICAgJHNjb3BlLmNvdW50ZXJzID0gW1xuICAgICAgICAgICAge3ZhbHVlIDogJzMwNTQnLCBkZXNjcmlwdGlvbiA6IFwiY29tcGxldGVkIHByb2plY3RzXCIsIGljb246IFwiaW1hZ2VzL2ljb24tcHJvamVjdHMucG5nXCJ9LFxuICAgICAgICAgICAge3ZhbHVlIDogJzcgMjM0IDg3MycsIGRlc2NyaXB0aW9uIDogXCJjbGljayBwcmVzZWRcIiwgaWNvbjogXCJpbWFnZXMvaWNvbi1jbGljay5wbmdcIn0sXG4gICAgICAgICAgICB7dmFsdWUgOiAnNDY3MCcsIGRlc2NyaXB0aW9uIDogXCJtYWlscyBzZW5kZWQgYW5kIHJlY2VpdmVkXCIsIGljb246IFwiaW1hZ2VzL2ljb24tbWFpbHMucG5nXCJ9LFxuICAgICAgICAgICAge3ZhbHVlIDogJzkzOScsIGRlc2NyaXB0aW9uIDogXCJqb2tlcyB0b2xkc1wiLCBpY29uOiBcImltYWdlcy9pY29uLWpva2VzLnBuZ1wifVxuICAgICAgICBdO1xuXG4gICAgICAgICRzY29wZS5maWx0ZXJzID0ge307XG4gICAgICAgICRzY29wZS5zb3J0ID0gZnVuY3Rpb24gKHZhbHVlKXtcbiAgICAgICAgICAgICRzY29wZS5maWx0ZXJzLmNhdGVnb3J5ID0gdmFsdWU7XG4gICAgICAgIH07XG4gICAgICAgIC8vb3BlbiBtb2RhbCB3aW5kb3dcbiAgICAgICAgJHNjb3BlLmNsaWNrVG9PcGVuID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIG5nRGlhbG9nLm9wZW4oeyB0ZW1wbGF0ZTogJyA8ZGl2IGNsYXNzPVwicG9wdXBfd3JhcFwiPjxpbWcgY2xhc3M9XCJwb3B1cF9pbWdcIiBzcmM9XCInKyBpdGVtLnNyYyArJ1wiIGFsdD1cIlwiLz48c3BhbiBjbGFzcz1cInBvcHVwX25hbWVcIj4nKyBpdGVtLm5hbWUgKyc8L3NwYW4+JywgY2xhc3NOYW1lOiAnbmdkaWFsb2ctdGhlbWUtZGVmYXVsdCcsIHBsYWluOiB0cnVlLCB3aWR0aDogJzYwJScgfSk7XG4gICAgICAgIH07XG4gICAgfV0pO1xuXG4gICAgZnVuY3Rpb24gaXNTY3JvbGxlZEludG9WaWV3KGVsZW0sb2Zmc2V0KSB7XG4gICAgICAgIHZhciAkZWxlbSA9ICQoZWxlbSk7XG4gICAgICAgIHZhciAkd2luZG93ID0gJCh3aW5kb3cpO1xuICAgICAgICB2YXIgZG9jVmlld1RvcCA9ICR3aW5kb3cuc2Nyb2xsVG9wKCk7XG4gICAgICAgIHZhciBkb2NWaWV3Qm90dG9tID0gZG9jVmlld1RvcCArICR3aW5kb3cuaGVpZ2h0KCk7XG4gICAgICAgIHZhciBlbGVtVG9wID0gJGVsZW0ub2Zmc2V0KCkudG9wO1xuICAgICAgICB2YXIgZWxlbUJvdHRvbSA9IGVsZW1Ub3AgKyAkZWxlbS5oZWlnaHQoKSAtIG9mZnNldDtcbiAgICAgICAgcmV0dXJuICgoZWxlbUJvdHRvbSA8PSBkb2NWaWV3Qm90dG9tKSAmJiAoZWxlbVRvcCA+PSBkb2NWaWV3VG9wKSk7XG4gICAgfVxuXG4gICAgYW5ndWxhci5lbGVtZW50KGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcblxuICAgICAgICAvL2dhbGxlcnkgc2V0dGluZ3NcbiAgICAgICAgdmFyIHNsaWNrU2V0dGluZ3MgPSB7XG4gICAgICAgICAgICBjZW50ZXJNb2RlOiB0cnVlLFxuICAgICAgICAgICAgY2VudGVyUGFkZGluZzogJzE1MHB4JyxcbiAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMyxcbiAgICAgICAgICAgIHJlc3BvbnNpdmU6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrcG9pbnQ6IDc2OCxcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFycm93czogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBjZW50ZXJNb2RlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2VudGVyUGFkZGluZzogJzQwcHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVzVG9TaG93OiAxXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtwb2ludDogNDgwLFxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJyb3dzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNlbnRlck1vZGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjZW50ZXJQYWRkaW5nOiAnNDBweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDFcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgZ2FsbGVyeUNsYXNzID0gJCgnLmNlbnRlcicpO1xuICAgICAgICB2YXIgZ2FsbGVyeUZpbHRlcnMgPSAkKFwiLnBvcnRmb2xpb19fdGFic1wiKTtcblxuXG4gICAgICAgIC8vZ2FsbGVyeSBpbml0aWFsaXplXG4gICAgICAgIGdhbGxlcnlDbGFzcy5zbGljayhzbGlja1NldHRpbmdzKTtcbiAgICAgICAgZ2FsbGVyeUZpbHRlcnMuZmluZChcImRpdlwiKS5jbGljayhmdW5jdGlvbigpe1xuICAgICAgICAgICAgZ2FsbGVyeUNsYXNzLnNsaWNrKCd1bnNsaWNrJyk7XG4gICAgICAgICAgICBnYWxsZXJ5Q2xhc3Muc2xpY2soc2xpY2tTZXR0aW5ncyk7XG4gICAgICAgICAgICBnYWxsZXJ5RmlsdGVycy5maW5kKFwiZGl2XCIpLnJlbW92ZUNsYXNzKFwicG9ydGZvbGlvX190YWJzX2l0ZW0tLWFjdGl2ZVwiKTsvL3JlbW92ZSBpZiBzb21ldGhpbmcgd2FzIHNlbGVjdGVkXG4gICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKFwicG9ydGZvbGlvX190YWJzX2l0ZW0tLWFjdGl2ZVwiKTsvL2FkZCBhIHNlbGVjdGVkIGNsYXNzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vdG9wLW1lbnUgZm9yIG1vYmlsZVxuICAgICAgICB2YXIgdG9wTmF2ID0gICQoJyNuYXYtdGFicycpO1xuICAgICAgICBmdW5jdGlvbiBjaGFuZ2VNZW51KCkge1xuICAgICAgICAgICAgaWYoJCh3aW5kb3cpLndpZHRoKCkgPCA3NjgpIHtcbiAgICAgICAgICAgICAgICB0b3BOYXYuYWRkQ2xhc3MoJ21vYmlsZW5hdicpO1xuICAgICAgICAgICAgICAgIHRvcE5hdi5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdG9wTmF2LnJlbW92ZUNsYXNzKCdtb2JpbGVuYXYnKTtcbiAgICAgICAgICAgICAgICB0b3BOYXYuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2hhbmdlTWVudSgpO1xuICAgICAgICAkKCB3aW5kb3cgKS5yZXNpemUoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGNoYW5nZU1lbnUoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy9zbW9vdGggc2Nyb2xsXG4gICAgICAgIHRvcE5hdi5maW5kKFwiYVwiKS5jbGljayggZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHZhciBzY3JvbGxfZWwgPSAkKHRoaXMpLmF0dHIoJ2hyZWYnKTtcbiAgICAgICAgICAgIGlmICgkKHNjcm9sbF9lbCkubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgJCgnaHRtbCwgYm9keScpLmFuaW1hdGUoeyBzY3JvbGxUb3A6ICQoc2Nyb2xsX2VsKS5vZmZzZXQoKS50b3AgfSwgNTAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy90b3AtbWVudSBiZWhhdmlvclxuICAgICAgICB2YXIgbmF2ID0gJCgnI25hdicpO1xuICAgICAgICB2YXIgbmF2cG9zID0gbmF2Lm9mZnNldCgpO1xuXG4gICAgICAgICQod2luZG93KS5iaW5kKCdzY3JvbGwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICgkKHdpbmRvdykuc2Nyb2xsVG9wKCkgPiBuYXZwb3MudG9wKSB7XG4gICAgICAgICAgICAgICAgbmF2LmFkZENsYXNzKCdmaXhlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbmF2LnJlbW92ZUNsYXNzKCdmaXhlZCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkLmVhY2goWycjaG9tZScsJyNzZXJ2aWNlcycsICcjcG9ydGYnLCAnI2NvbnRhY3RzJyBdLGZ1bmN0aW9uKGtleSwgdmFsKXtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzU2Nyb2xsZWRJbnRvVmlldyh2YWwsMzAwKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5hdl9pZCA9ICcjJyArICQodmFsKS5hdHRyKCdpZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9wTmF2LmZpbmQoXCJhXCIpLnJlbW92ZUNsYXNzKFwiaGVhZGVyX19uYXZfaXRlbS0tYWN0aXZlXCIpOy8vcmVtb3ZlIGlmIHNvbWV0aGluZyB3YXMgc2VsZWN0ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJ2FbaHJlZj1cIicgKyBuYXZfaWQgKyAnXCJdJykuYWRkQ2xhc3MoXCJoZWFkZXJfX25hdl9pdGVtLS1hY3RpdmVcIik7Ly9hZGQgYSBzZWxlY3RlZCBjbGFzc1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRvcE5hdi5maW5kKFwiYVwiKS5jbGljayhmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHRvcE5hdi5maW5kKFwiYVwiKS5yZW1vdmVDbGFzcyhcImhlYWRlcl9fbmF2X2l0ZW0tLWFjdGl2ZVwiKTsvL3JlbW92ZSBpZiBzb21ldGhpbmcgd2FzIHNlbGVjdGVkXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcyhcImhlYWRlcl9fbmF2X2l0ZW0tLWFjdGl2ZVwiKTsvL2FkZCBhIHNlbGVjdGVkIGNsYXNzXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy90aW1lbGluZSBlbGVtZW50cyBhcHBlYXJhbmNlXG4gICAgICAgICAgICAkKCBcIi50aW1lbGluZV9faXRlbVwiICkuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNTY3JvbGxlZEludG9WaWV3KHRoaXMsMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnaGlkZGVuLWVsZW0nKTtcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygndmlzaWJsZS1lbGVtJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdoaWRkZW4tZWxlbScpO1xuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCd2aXNpYmxlLWVsZW0nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59KSgpOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
